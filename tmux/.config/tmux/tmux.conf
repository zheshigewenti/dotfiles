# =============================================================================
# 1. 基础全局设置
# =============================================================================
set -g prefix C-a             # 设置前缀键为 Ctrl-a
unbind C-b                    # 解绑原有的 Ctrl-b
bind C-a send-prefix          # 确保 Ctrl-a 能正确发送前缀信号

set -g display-panes-time 10000  # 面板编号显示时间
set -g mouse              on     # 开启鼠标支持
set -g base-index         1      # 窗口编号从 1 开始
set -g pane-base-index    1      # 面板编号也从 1 开始
set -g renumber-windows   on     # 关闭窗口后自动重新排列编号
set -s escape-time        0      # 消除 Vim 中按 Esc 的延迟
set -sg repeat-time       300    # 快捷键连按超时间隔
set -g focus-events       on     # 开启焦点事件支持
set -g visual-activity    off    # 关闭窗口活动视觉提示

setw -g mode-keys         vi     # 复制模式使用 vi 快捷键
setw -g allow-rename      off    # 禁止程序自动重命名窗口
setw -g xterm-keys        on     # 开启 xterm 组合键支持

# -----------------------------------------------------------------------------
# 2. 面板与窗口管理
# -----------------------------------------------------------------------------
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

bind c new-window -c "#{pane_current_path}"
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

unbind '"'
unbind %

# -----------------------------------------------------------------------------
# 3. 状态栏美化
# -----------------------------------------------------------------------------
set -g status-position bottom      
set -g status-justify left         
set -g status-style "bg=default"   

# 左侧：显示会话名称 (保持 bold)
set -g status-left "#[fg=blue,bold] 󰒓 #S #[fg=white,nobold] "

# 中间：当前窗口也设为 bold，非当前窗口设为 nobold 形成对比
set -g window-status-format "#[fg=brightblack,nobold] #I:#W "
set -g window-status-current-format "#[fg=magenta,bold] #I:#W "

# 右侧：关键修改处！将时间日期全部设为 bold，确保与左侧粗细一致
set -g status-right "#[fg=cyan,bold]%H:%M #[fg=brightblack,nobold]| #[fg=green,bold]%Y-%m-%d "

# -----------------------------------------------------------------------------
# 4. 配置重载快捷键
# -----------------------------------------------------------------------------
bind r source-file ~/.tmux.conf \; display-message "Tmux 配置已重新加载！"
